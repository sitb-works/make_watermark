# Watermark CLI

ç”»åƒã«é€ã‹ã—ï¼ˆã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒãƒ¼ã‚¯ï¼‰ã‚’è‡ªå‹•ã§åˆæˆã™ã‚‹Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚
ã‚¯ãƒ­ã‚¹ãƒãƒƒãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é‡ã­ã¦ã€è‡ªç„¶ãªé€ã‹ã—åŠ¹æœã‚’ç”Ÿæˆã—ã¾ã™ã€‚

## ğŸ” å‡¦ç†å‰ â†’ å‡¦ç†å¾Œã®æ¯”è¼ƒ

| å…ƒç”»åƒ | é€ã‹ã—åˆæˆå¾Œ |
|--------|----------------|
| ![](sample_img/sample.png) | ![](sample_img/sample_wm.jpg) |


## ğŸ“¦ æ§‹æˆ

```
make_watermark/
â”œ apply_watermark.py       # å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œ watermark_config.txt     # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ•ã‚©ãƒ³ãƒˆã‚„ãƒ†ã‚­ã‚¹ãƒˆï¼‰
â”œ images/                  # å…¥åŠ›ç”»åƒãƒ•ã‚©ãƒ«ãƒ€
â”” watermarked_output/      # å‡ºåŠ›ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆè‡ªå‹•ä½œæˆï¼‰
```

## âš™ï¸ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`watermark_config.txt`ï¼‰

```txt
# ä½¿ç”¨ã™ã‚‹ãƒ•ã‚©ãƒ³ãƒˆã®ãƒ‘ã‚¹ï¼ˆçœç•¥æ™‚ã¯OSãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
font_path = /path/to/fonts/Font.ttf

# ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºï¼ˆãƒ”ã‚¯ã‚»ãƒ«å˜ä½ï¼‰
font_size = 32

# å…¥åŠ›ã™ã‚‹é€ã‹ã—ãƒ†ã‚­ã‚¹ãƒˆï¼ˆè¤‡æ•°è¡ŒOKï¼‰
text:
This is a sample image.
Please do not repost.
endtext
```

- `font_path`ï¼šä½¿ç”¨ã™ã‚‹TrueTypeãƒ•ã‚©ãƒ³ãƒˆã®ãƒ‘ã‚¹ï¼ˆä¾‹ï¼šarial.ttfï¼‰
- `font_size`ï¼šæ–‡å­—ã‚µã‚¤ã‚ºï¼ˆpxï¼‰
- `text`ï¼šä¸­å¤®ä¸‹ã«å…¥ã‚Œã‚‹ãƒ†ã‚­ã‚¹ãƒˆï¼ˆè¤‡æ•°è¡ŒOKï¼‰

> è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„å ´åˆã¯OSã”ã¨ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ³ãƒˆãŒè¨­å®šã•ã‚Œã¾ã™ã€‚
> `apply_watermark.py`

## ğŸš€ ä½¿ã„æ–¹

### ğŸ”¹ å˜ä¸€ç”»åƒã‚’å‡¦ç†
```bash
python apply_watermark.py path/to/image.jpg
```

### ğŸ”¹ ãƒ•ã‚©ãƒ«ãƒ€å†…ã®ç”»åƒã‚’ä¸€æ‹¬å‡¦ç†
```bash
python apply_watermark.py images/
```

- `.jpg`, `.jpeg`, `.png` ã«å¯¾å¿œ
- å‡ºåŠ›å…ˆã¯ `watermarked_output/` ã«è‡ªå‹•ç”Ÿæˆ
- ãƒ•ã‚¡ã‚¤ãƒ«åã®æœ«å°¾ã« `_wm` ãŒä»˜ãã¾ã™ï¼ˆä¾‹ï¼š`sample_wm.jpg`ï¼‰

## âœ¨ ç‰¹å¾´

- âœ… é€ã‹ã—æ–‡å­—ã¯ä¸­å¤®ä¸‹ã«æ•´åˆ—ï¼ˆãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºã¯configã§è¨­å®šï¼‰
- âœ… é€ã‹ã—ã¯ã‚¯ãƒ­ã‚¹ãƒãƒƒãƒãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆç”»åƒã‚µã‚¤ã‚ºã«å¿œã˜ã¦ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ï¼‰
- âœ… PILãƒ™ãƒ¼ã‚¹ã§å‡¦ç†è»½ã‚
- âœ… è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºç°¡å˜

## ğŸ›  ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ¡ˆï¼ˆnoteæœ‰æ–™è¨˜äº‹ã«ã¦å…¬é–‹äºˆå®šï¼‰

- [ ] ã‚¯ãƒ­ã‚¹ãƒãƒƒãƒãƒ‘ã‚¿ãƒ¼ãƒ³è‰²ã‚’è‡ªå‹•ã§å–å¾— or configæŒ‡å®š
- [ ] ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°å®Ÿè£…ï¼ˆ`--no-text` ã§ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆã—ãŸã‚Š `--gray-stripes` ã§è‰²å¼·åˆ¶ã—ãŸã‚Šï¼‰
- [ ] GUIç‰ˆï¼ˆTkinter/Gradioãªã©ï¼‰
- [ ] WordPressè‡ªå‹•å…¥ç¨¿æ©Ÿèƒ½

## ğŸ“¦ ä»®æƒ³ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

ä»¥ä¸‹ã®å†…å®¹ã§ `requirements.txt` ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š

```txt
Pillow>=10.0.0
```

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ï¼š
```bash
python -m venv venv
source venv/bin/activate  # Windowsã®å ´åˆ: venv\Scripts\activate
pip install -r requirements.txt
```

---

ä½•ã‹ä¸æ˜ç‚¹ãŒã‚ã‚Œã°ã€ãŠæ°—è»½ã«ãŠçŸ¥ã‚‰ã›ãã ã•ã„ï¼
