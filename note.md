
マキナスが使いたかっただけなのに【フォントのグリフには注意しよう】



最近ポートフォリオ代わりに趣味のプログラムを作っているところです。
いったんGithubでいいかの気持ちで色々放り込む予定。

> 機能追加ができたらその部分は有料記事として反映されます。GUIにするとか。その辺。

趣味と言ってもある程度実用はしたいので、今日は画像サンプル用に透かしを入れるスクリプトをPythonで組んでいたところなんですけど、ぼくの癖のマキナススクエアフォントを使おうとしたら沼に落ちたので、備忘録代わりにメモしておきます。


- 目次（自動生成予定）

### なんでマキナス？

マキナススクエア、好きなんですよ。
https://moji-waku.com/makinas/
これなんですけど。

英字とか打ってもらうと分かるんだけど絶妙なかくばってる感じが好み。
あと商用利用ゆるいところも好み。

### どういう透かしを入れようとしたの？

（透かしサンプル）

これ先日（勝手に）作ったIRIAMのヘッダーなんですけど。
フリー素材だけだからいいよね。うん。立ち絵とかもないし。

こんな感じに透かしを入れようとしてまして。
ばってん……えっと、クロスハッチパターン、がわりとIRIAM世界の主流みたいなところあったからそれを入れてみよう（※幅を考えるのは一旦短辺固定にしたので細かめ）っていうのと、署名じゃないけど下の方になんかサインみたいなの入れたかったんですね。
ぼくの場合はSitb.
しんぷるいずざべすと。単にいつも使ってることばあそび。

それとあと無断転載禁止系の文言を入れようと思ったんですけど。

### スペースが豆腐になった日

> 「これ　あれじゃん　フォントが対応してないやつ……！」

まさか半角スペースでも全角スペースでも出会うとは思わなかった。
確かにこれでロゴとかは作るけどそんなスペース使うような文章を打ったことはなかったですね。反省。
マキナスがOTFファイルだからか？　とか邪推しましたがそんなことはどこにもありませんでした。TTFファイルに変換するとかできるんですね。出来ました。

### 諦めた

色々やったけどこれ諦めるのが早いなってなってSitb.しか入ってない画像が完成しました。
まあ　うん　これにスペースを加えるほどの編集はぼくの気力としては足りない……
fontforgeを使って頑張るとできるらしいとは書いてあった。

### 次やりたいこと

何作ろう。うーん。

- 生成画像ポートフォリオをWordPressに置いているのでそれを気軽にするやつ作りたい
  - まずpngのメタタグ消しておくとか
  - WordPress自動入稿用のスクリプトとか
- フロントサイドまで組んだものはポートフォリオとしてほしい
- あとぼくが技術的に誇れるものなんかある？　AI関連のお勉強系はなんか入れたいかも



---

概ねPython主体でなんか書いていきたいと思っています。

Python、お気軽なので、ちょっとローカルでやってみたいなってときはそれこそWindows 11になってたらWindows StoreからUbuntuとか入れられるので試してみると楽しいかもしれません。
Ubuntu 22.04とPython 3.10あたりが入ってれば概ね画像関連のことはだいたいできます。

Macの民とLinuxの民は何かしらは触れると思ってるので特に補足することはないかなって……

それにしても、日本語フォント入ってなくて豆腐になるのはまあものすごく見てきたけど、まさか半角スペースで見ることになるとは思ってなかったです。それでもマキナススクエアは好きです。ときめきがあるので。

---


### 技術者向け補足：OTF→TTF変換

ぼくの環境だとWSL2のUbuntu環境なのでこう。
ちなみにグリフが見られて「あっ半角スペースにも全角スペースにも文字割り当てられてないや」ってことが確定しただけでした。とはいえ分かるってことは大事ですよね。うん。

1. フォントをユーザーフォントフォルダにコピー

```
mkdir -p ~/.local/share/fonts
cp path/to/Makinas-4-Square.otf ~/.local/share/fonts/
fc-cache -fv
```

2. FontForgeを使ってOTFをTTFに変換するためにインストール

```
sudo apt update
sudo apt install fontforge
```

3. 変換スクリプト convert.pe を作成

```
Open($1)
Generate($1:r + ".ttf")
Close()
```

4. 変換コマンドを実行

```
fontforge -script convert.pe Makinas-4-Square.otf
```

このあと`fc-cache -fv`を忘れずに。

